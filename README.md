# 概要

RPGツクールMZ用のプラグイン。

アイコンをボタンにする。

あるいはスプライトシートから読み込んだ画像をボタンにする。

# プロジェクトへのインポート方法

1. プラグインをダウンロードする。以下のリンクをクリックすると最新のバイナリを落とせる。
    * [IconButton-1.0.0](https://github-storage.redspice.me/rpgmaker-mz/iconbutton/IconButton-1.0.0.zip)

3. ダウンロードしたZIPファイルを展開する。

2. IconButton.jsをRPGツクールMZのプロジェクトのプラグインフォルダにコピーする。

3. エディタのプラグイン管理からIconButtonを読み込んでONにする。

# 仕様

プラグインの以下の設定値を設定しない場合はデフォルトのアイコンセットが使用される。
``` js
/*
 * @param IconSet
 * @desc 使用するアイコンセットのスプライトシート名。何も指定されない場合はデフォルトのアイコンセットが使用される。
 */
```

プラグインコマンドから最低１回はボタンの生成を行うこと。

プラグインコマンドの以下の引数値は、ボタンを識別するためのID値をセットする。任意で良い。ただし複数ボタンを生成する場合は重複しないようにすること。
``` js
/*
 * @arg id
 * @type number
 * @text ボタンID
 * @desc ボタンを識別するID値。
 */
```
更新をかけたり、非表示にする際は生成時に設定したIDを使用すること。

デフォルトのアイコンセットを使用しない場合は、アイコン画像を詰め込んだスプライトシートを作成する。
* スプライトシートの仕様はMZのシステムにあるアイコンシートと同様
* ただし、アイコンのサイズと横一列の配置数は変更可能。プラグインで指定することができる。
* アイコンIDはスプライトシートの左上から数えて`0,1,2`と認識される。

作成したスプライトシートはエディタの、素材管理から作成したスプライトシートを読み込むこと。※ 直接`system`ディレクトリに入れるとプロジェクトが認識しなくなるのでエディタを通して配置すること。

プラグインの以下の設定値を適切に設定すれば、システムのデフォルトアイコンと同じようにアイコンIDを指定することで任意のアイコンをボタンにできる。
``` js
/*
 * @param IconSet
 * @desc 使用するアイコンセットのスプライトシート名。何も指定されない場合はデフォルトのアイコンセットが使用される。
 *
 * @param IconSize
 * @desc スプライトシートにあるアイコンの1辺のピクセル数。
 * @default 32
 *
 * @param IconCount
 * @desc スプライトシートにあるアイコンの横一列の最大数。
 * @default 16
 */
```
IconSetにはスプライトシートのファイル名を指定する。拡張子は除く。

# 動作例

プラグインが動作しているデモを以下のGIFで示す。

<img src="https://github-storage.redspice.me/rpgmaker-mz/iconbutton/iconbutton.gif">

# 開発

## 必要条件

| アプリケーション | バージョン               |
| :--------------- | :----------------------- |
| node.js          | `>=8.11.4`               |
| npm              | `>=5.6.0`                |
| gulp             | `>=2.3.0`                |
| parcel           | `>=1.12.4`               |

[Gulp](https://gulpjs.com/)を以下のコマンドでインストールする。
```
npm install -g gulp
```

[Parcel](https://ja.parceljs.org/)を以下のコマンドでインストールする。
```
npm install -g parcel-bundler
```

## スタートガイド

リポジトリをクローンする。
```
git clone https://github.com/sevenspice/IconButton.git
```

ディレクトリを移動する。
```
cd IconButton
```

設定ファイルを編集する。
```
copy mv.origin.json mv.json
```
* mv.jsonの`dest`に、インポートしたいRPGツクールMZプロジェクトのプラグインフォルダを指定すること。

モジュールをインストールする。
```
npm install
```

コンパイルとプロジェクトへのコピーを実行する。
```
gulp
```

以上で、ゲームプロジェクトにプラグインがインポートされる。
